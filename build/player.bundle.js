!function(e){var n={};function t(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,t),i.l=!0,i.exports}t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var i in e)t.d(o,i,function(n){return e[n]}.bind(null,i));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=0)}([function(e,n,t){"use strict";var o=t(1),i=window.AudioContext||window.webkitAudioContext,r=window.audioCtx=new i,a={x:0,y:0},c=window.innerWidth/2,d=window.innerHeight/2,u=new PannerNode(r,{panningModel:"HRTF",distanceModel:"linear",positionX:c,positionY:d,positionZ:300,orientationX:0,orientationY:0,orientationZ:-1,refDistance:1,maxDistance:5e3,rolloffFactor:10,coneInnerAngle:40,coneOuterAngle:50,coneOuterGain:.4}),l=r.createBufferSource(),s=!1,f=document.getElementById("drop-area"),v=document.getElementById("play-sample"),p=function(e){r.resume(),l.buffer=e,l.start?l.start():l.noteOn(0),function(){document.getElementById("controller").className="controller";var e=document.getElementById("playerBtn");e.addEventListener("click",function(){s?(r.suspend(),e.firstChild.className="glyphicon glyphicon-play"):(r.resume(),e.firstChild.className="glyphicon glyphicon-pause"),s=!s})}(),function(){var e=r.createScriptProcessor(2048,1,1);e.connect(r.destination);var n=r.createAnalyser();n.smoothingTimeConstant=.3,n.fftSize=1024;var t=r.createChannelSplitter();l.connect(t),t.connect(n,0,0),n.connect(e),l.connect(u).connect(r.destination),l.loop=!0,e.onaudioprocess=function(){var e=new Uint8Array(n.frequencyBinCount);n.getByteFrequencyData(e),(0,o.visualization)(e),a=(0,o.getMouseRelPos)(),u.positionX.value=5*a.x,u.positionY.value=a.y}}(),s=!0,m(!1)};v.addEventListener("click",function(){h("media/sample.mp3").then(function(e){return p(e)})});var h=function(e){return m(!0),fetch(e).then(function(e){return e.arrayBuffer()}).then(function(e){return r.decodeAudioData(e)}).then(function(e){return e})};function g(e){e.preventDefault(),e.stopPropagation()}function m(e){var n=document.getElementById("spinner");if(e){var t=document.getElementById("player-init");t.removeChild(document.getElementById("sample-wrapper")),t.removeChild(f),n.className="spinner"}else n.className="novisible"}["dragenter","dragover","dragleave","drop"].forEach(function(e){f.addEventListener(e,g,!1)}),["dragenter","dragover"].forEach(function(e){f.addEventListener(e,function(){return f.classList.add("highlight")},!1)}),["dragleave","drop"].forEach(function(e){f.addEventListener(e,function(){return f.classList.remove("highlight")},!1)}),f.addEventListener("drop",function(e){m(!0);var n=e.dataTransfer.files[0],t=new FileReader;t.readAsArrayBuffer(n),t.onload=function(){r.decodeAudioData(t.result).then(function(e){return p(e)}).catch(function(e){return console.log(e)})}},!1)},function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var o=document.querySelector("canvas"),i=o.getContext("2d"),r=void 0,a=void 0,c=void 0,d=void 0,u=void 0,l=void 0,s=void 0,f=void 0,v=void 0,p=void 0,h=void 0,g=void 0,m=window.innerWidth,y=window.innerHeight,w={x:0,y:0};function b(e,n,t,o,r,a){var c="rgb("+w.x/5+","+w.y/5+","+a+")";i.strokeStyle=c,i.lineWidth=r,i.beginPath(),i.moveTo(e,n),i.lineTo(t,o),i.stroke()}function E(){m=window.innerWidth,y=window.innerHeight,o.width=m,o.height=y,m<500?(v=50,p=5,h=20,g=.5):(v=100,p=10,h=100,g=1.5)}n.visualization=function(e){E(),o.width=m,o.height=y,window.addEventListener("resize",function(){E()}),o.addEventListener("mousemove",function(e){w.x=e.clientX,w.y=e.clientY}),document.getElementById("info").classList.remove("novisible"),r=m/2,a=y/2,i.clearRect(0,0,o.width,o.height),i.beginPath(),i.stroke();for(var n=0;n<v;n++)l=2*Math.PI/v,u=e[n]*g,s=r+Math.cos(l*n)*h,f=a+Math.sin(l*n)*h,c=r+Math.cos(l*n)*(h+u),d=a+Math.sin(l*n)*(h+u),b(s,f,c,d,p,e[n])},n.getMouseRelPos=function(){return{x:w.x-m/2,y:w.y}}}]);